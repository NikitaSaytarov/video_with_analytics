(this.webpackJsonpvideo_and_analytics=this.webpackJsonpvideo_and_analytics||[]).push([[0],{125:function(e,t,n){e.exports=function(){return new Worker(n.p+"e15fb2c74a5d5a53888c.worker.js")}},126:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(0),a=n.n(c),i=n(27),o=n.n(i),s=n(142),u=n(9),l=n(24),f=n(10),d=n(39),p=n(32),h=n.n(p),b=Object(d.b)({name:"analytics",initialState:{events:[],fetchEventsFailedMessage:null,fetchEventsUrl:"http://www.mocky.io/v2/5e60c5f53300005fcc97bbdd",activeEvents:[],selectedEvent:null},reducers:{allEventsFetchRequest:function(e,t){return h()(e,{fetchEventsUrl:{$set:t.payload}})},allEventsFetchSuccess:function(e,t){return h()(e,{events:{$set:t.payload},fetchEventsFailedMessage:{$set:null}})},allEventsFetchFail:function(e,t){return h()(e,{fetchEventsFailedMessage:{$set:t.payload}})},activeEventsSet:function(e,t){return h()(e,{activeEvents:{$set:t.payload}})},eventSelected:function(e,t){return h()(e,{selectedEvent:{$set:t.payload}})}}}),j=function(e){return e.analytics.events},v=function(e){return e.analytics.activeEvents},m=b.actions,O=b.reducer,y=m.allEventsFetchSuccess,w=m.allEventsFetchFail,g=m.activeEventsSet,x=m.allEventsFetchRequest,k=m.eventSelected,E=O,_=function(){return Object(f.c)({analytics:E})},S=n(19),R=(n(66),function(){return{}}),C=n(80),I=n(3),F=n.n(I),P=n(7),z=n(69),N=n(67),T=n.n(N),M=n(68),$=n.n(M),A=function(e){return T.a.get(e).then((function(e){return e.data.map((function(e){var t=e,n=new Date(t.timestamp);return t.title=$()(n).format("mm:ss:SSS"),t})).sort((function(e,t){return e.timestamp-t.timestamp}))}))},B=F.a.mark(D);function D(e){var t;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(z.a)(A,e.payload);case 3:return t=n.sent,n.next=6,Object(P.n)(y(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),console.error(n.t0),n.next=13,Object(P.n)(w(n.t0));case 13:case"end":return n.stop()}}),B,null,[[0,8]])}var H=F.a.mark(L);function L(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.v)(x,D);case 2:case"end":return e.stop()}}),H)}var U=Object(C.a)(),G=[].concat(Object(l.a)(Object(d.c)({thunk:!1})),[U]);window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d;var W=Object(d.a)({reducer:_(),preloadedState:R(),middleware:G,devTools:false});U.run(L);var q,J=function(){return Object(S.b)()},V=n(150),X=u.default.div.withConfig({displayName:"style__EventsPanel",componentId:"sc-1nw2x2m-0"})(["margin:12px;"]),K=Object(u.default)(V.a).withConfig({displayName:"style__EventLink",componentId:"sc-1nw2x2m-1"})(["cursor:pointer;"]),Q=Object(u.withTheme)((function(e){var t=J(),n=Object(S.c)(j);return Object(r.jsx)(X,{children:n.map((function(e,n){return Object(r.jsx)(K,{onClick:function(){return function(e){t(k(e))}(e)},component:"button",variant:"body2",rel:"noreferrer",children:e.title+", "})}))})})),Y=n(12),Z=n(76),ee=n.n(Z),te=n(17),ne=n(44),re=function(e,t,n,r){var c=t.getContext("2d");c.lineWidth=3,c.strokeStyle="green";var a,i=Object(ne.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value.zone,s=o.left/n.width,u=o.top/n.height,l=o.width/n.width,f=o.height/n.height,d=s*r.width,p=u*r.height,h=l*r.width,b=f*r.height;c.strokeRect(d,p,h,b)}}catch(j){i.e(j)}finally{i.f()}},ce=n(144),ae=Object(u.default)(ce.a).withConfig({displayName:"style__VideoEventsLayerContainer",componentId:"sc-7o072f-0"})(["height:360px;width:100%;position:absolute;pointer-events:none;top:0;left:0"]),ie=u.default.canvas.withConfig({displayName:"style__StyledCanvas",componentId:"sc-7o072f-1"})(["height:100%;width:100%;outline:none;display:block;margin:0;padding:0;touch-action:none;"]),oe=Object(c.forwardRef)((function(e,t){Object(c.useImperativeHandle)(t,(function(){return{initialize:d}}));var n=Object(c.useRef)(null),a=Object(c.useState)({player:null,videoResolution:{height:0,width:0}}),i=Object(te.a)(a,2),o=i[0],s=i[1],u=o.player,l=o.videoResolution,f=Object(S.c)(v),d=function(){var e=Object(Y.a)(F.a.mark((function e(t,r){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({player:t,videoResolution:r}),(c=n.current).setAttribute("width","640"),c.setAttribute("height","360");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(f){var p=n.current;if(function(e){e&&e.getContext("2d").clearRect(0,0,e.width,e.height)}(p),f.length>0){var h=u.props,b=h.height,j=h.width,m=+b.substring(0,b.length-2),O=+j.substring(0,j.length-2);re(f,p,l,{height:m,width:O})}}return Object(r.jsx)(ae,{children:Object(r.jsx)(ie,{ref:n})})})),se="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",ue=function(e){return new Promise(function(){var t=Object(Y.a)(F.a.mark((function t(n,r){var c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=document.createElement("video")).onloadedmetadata=function(){n({width:c.videoWidth,height:c.videoHeight})},c.src=e;case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},le=n(48),fe=n(33),de=Object(c.forwardRef)((function(e,t){var n=Object(S.c)(j),i=J();Object(c.useImperativeHandle)(t,(function(){return{initialize:f,onEnded:h,onPause:p,onPlay:d,onSeek:b}}));var o=Object(c.useState)({player:null}),s=Object(te.a)(o,2),u=s[0],l=s[1],f=(u.player,function(){var e=Object(Y.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({player:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=function(){var e=Object(Y.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.play)();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(Y.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.pause)();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(Y.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.ended)();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(Y.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.seek)(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){if(e&&e.length>0){var t=n.filter((function(t){return e.includes(t.id)}));i(g(t))}else i(g([]))};function m(){return(m=Object(Y.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,e.next=3,Object(fe.initializeAnalysis)(t,le.proxy(v));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n&&0!==n.length&&function(){m.apply(this,arguments)}(),Object(r.jsx)(a.a.Fragment,{})})),pe=Object(c.forwardRef)((function(e,t){var n=Object(S.c)((function(e){return e.analytics.selectedEvent})),i=J();Object(c.useImperativeHandle)(t,(function(){return{initialize:d}}));var o=Object(c.useState)({player:null}),s=Object(te.a)(o,2),u=s[0],l=s[1],f=u.player,d=function(){var e=Object(Y.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({player:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(f&&n){var p=n.timestamp/1e3;f.seekTo(p,"seconds"),i(k(null))}return Object(r.jsx)(a.a.Fragment,{})})),he=u.default.div.withConfig({displayName:"style__PlayerContainer",componentId:"sc-105rdl4-0"})(["position:relative;"]),be=Object(u.withTheme)((function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),a=Object(c.useRef)(null),i=Object(c.useRef)(null);Object(c.useEffect)((function(){(function(){var e=Object(Y.a)(F.a.mark((function e(){var r,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(se);case 2:r=e.sent,(c=t.current)&&(n.current&&n.current.initialize(c,r),a.current&&a.current.initialize(c,r),i.current&&i.current.initialize(c,r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(r.jsxs)(he,{children:[Object(r.jsx)(ee.a,{config:{file:{attributes:{onContextMenu:function(e){return e.preventDefault()},disablepictureinpicture:"true",controlsList:"nodownload nofullscreen noremoteplayback"}}},pip:!1,url:se,controls:!0,playing:!0,onPlay:function(){i.current&&i.current.onPlay()},onPause:function(){i.current&&i.current.onPause()},onSeek:function(e){i.current&&i.current.onSeek(e)},onEnded:function(){i.current&&i.current.onEnded()},ref:t}),Object(r.jsx)(de,{ref:i}),Object(r.jsx)(pe,{ref:n}),Object(r.jsx)(oe,{ref:a})]})})),je=n(145);!function(e){e[e.green=0]="green",e[e.blue=1]="blue"}(q||(q={}));var ve=n(149),me=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return Object(ve.a)(["theme","app"].concat(Object(l.a)(e)),t)}}(["colors","main",q[e]])},Oe=u.default.div.withConfig({displayName:"style__Root",componentId:"sc-11l1atm-0"})(["background:",";min-height:100vh;flex-grow:1;padding:24px;"],me(q.green)),ye=Object(u.default)(ce.a).withConfig({displayName:"style__RootGrid",componentId:"sc-11l1atm-1"})(["align-items:center;justify-content:center;min-height:100vh;"]),we=Object(u.default)(ce.a).withConfig({displayName:"style__SectionGrid",componentId:"sc-11l1atm-2"})(["align-content:center;"]),ge=Object(u.default)(je.a).withConfig({displayName:"style__RootPaper",componentId:"sc-11l1atm-3"})(["padding:16px;text-align:center;vertical-align:middle;color:",";height:390px;"],me(q.blue)),xe=u.default.div.withConfig({displayName:"style__PlayerContainer",componentId:"sc-11l1atm-4"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;"]),ke=Object(u.withTheme)((function(e){var t=J();return Object(c.useEffect)((function(){t(x("http://www.mocky.io/v2/5e60c5f53300005fcc97bbdd"))})),Object(r.jsx)(Oe,{children:Object(r.jsxs)(ye,{container:!0,spacing:3,children:[Object(r.jsx)(we,{item:!0,xs:6,children:Object(r.jsxs)(ge,{children:[Object(r.jsx)(s.a,{variant:"h5",children:"Analytics events"}),Object(r.jsx)(Q,{})]})}),Object(r.jsx)(we,{item:!0,xs:6,children:Object(r.jsx)(ge,{children:Object(r.jsx)(xe,{children:Object(r.jsx)(be,{})})})})]})})})),Ee=n(77),_e=n(78);function Se(){var e=Object(Ee.a)(["\n  ",";\n  \n   html, body {\n    padding: 0;\n    margin: 0;\n    height: 100%;\n    min-height: 100%;\n    min-width: 100%;\n    width: 100%;\n    font-family: 'Roboto', 'Segoe UI',sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    overflow:hidden;\n    box-sizing: border-box;\n    *, *:before, *:after {\n    box-sizing: inherit;\n    touch-action: none;\n    -ms-touch-action: none;\n    }\n  }\n\n  code {\n    font-family: source-code-pro, monospace;\n  }\n"]);return Se=function(){return e},e}var Re=Object(u.createGlobalStyle)(Se(),_e.normalize),Ce=n(147),Ie=n(148),Fe=n(146),Pe=n(38),ze=n(79),Ne={app:{colors:{main:{green:"#4fc775",blue:"#1a508b"}}}};var Te,Me=(Te=Object(Pe.a)({},Ne),Object(ze.a)(Object(Pe.a)(Object(Pe.a)({},Te),Ne))),$e=function(e){var t=e.children;return Object(r.jsx)(Ie.b,{injectFirst:!0,children:Object(r.jsx)(Fe.a,{theme:Me,children:Object(r.jsx)(u.ThemeProvider,{theme:Me,children:t})})})};o.a.render(Object(r.jsxs)(S.a,{store:W,children:[Object(r.jsx)(Re,{}),Object(r.jsx)(Ce.a,{}),Object(r.jsx)($e,{children:Object(r.jsx)(c.Suspense,{fallback:"",children:Object(r.jsx)(ke,{})})})]}),document.getElementById("root"))},33:function(e,t,n){e.exports=n(48).wrap(n(125)()),e.exports.__esModule=!0}},[[126,1,2]]]);
//# sourceMappingURL=main.03fea7a4.chunk.js.map